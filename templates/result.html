<!DOCTYPE html>
<html>
<head>
    <title>Analysis Result</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        body { padding: 40px; background: #1e1e2f; color: #fff; font-family: Arial, sans-serif; }
        h1 { color: #e94560; margin-bottom: 30px; }
        .btn-primary { background: #e94560; border: none; }
        .btn-primary:hover { background: #ff6b81; }
        pre { background: #1e1e2f; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
<div class="container">
    <h1>Analysis Result for: {{ filename }}</h1>

    {% if result.error %}
        <p class="text-danger">{{ result.error }}</p>
    {% elif ext == 'py' %}
        <ul>
            <li>Syntax OK: {{ result.syntax_ok }}</li>
            {% if result.syntax_error %}<li>Error: {{ result.syntax_error }}</li>{% endif %}
            <li>Total Complexity: {{ result.complexity }}</li>
            <li>Halstead Operators: {{ result.halstead }}</li>
            <li>Lines: {{ result.lines }}</li>
            <li>Comment Lines: {{ result.comments }}</li>
        </ul>
    {% elif ext == 'js' %}
        <pre>{{ result }}</pre>
    {% elif ext in ['html','htm'] %}
        <ul>
            <li>Total Tags: {{ result.tags }}</li>
            <li>Inline Styles: {{ result.inline_styles }}</li>
            <li>Inline Scripts: {{ result.inline_scripts }}</li>
        </ul>
    {% endif %}

    <a href="{{ url_for('download_report') }}" class="btn btn-primary mt-3">Download PDF Report</a>
    <a href="{{ url_for('index') }}" class="btn btn-secondary mt-3">Analyze Another File</a>
</div>
</body>
</html>
