<!DOCTYPE html>
<html>
<head>
    <title>Analysis Result</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        body {
            padding: 40px;
            background: #1e1e2f;
            color: #fff;
            font-family: 'Orbitron', Arial, sans-serif;
            min-height: 100vh;
        }
        h1 {
            color: #e94560;
            margin-bottom: 30px;
            text-shadow: 0 0 10px #e94560;
        }
        .btn-primary {
            background: linear-gradient(45deg, #e94560, #ff6b81);
            border: none;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background: linear-gradient(45deg, #ff6b81, #e94560);
            box-shadow: 0 4px 15px rgba(233, 69, 96, 0.5);
        }
        .btn-secondary {
            background: #444;
            border: none;
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            background: #555;
        }
        pre {
            background: #2b2b3b;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        ul {
            background: #2b2b3b;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Analysis Result for: {{ filename }}</h1>

    {% if result.error %}
        <div class="alert alert-danger">{{ result.error }}</div>
    {% elif ext == 'py' %}
        <ul>
            <li><strong>Syntax OK:</strong> {{ result.syntax_ok }}</li>
            {% if result.syntax_error %}
            <li><strong>Error:</strong> {{ result.syntax_error }}</li>
            {% endif %}
            <li><strong>Total Complexity:</strong> {{ result.complexity }}</li>
            <li><strong>Halstead Metrics:</strong> {{ result.halstead }}</li>
            <li><strong>Lines:</strong> {{ result.lines }}</li>
            <li><strong>Comment Lines:</strong> {{ result.comments }}</li>
        </ul>
    {% elif ext == 'js' %}
        <pre>{{ result }}</pre>
    {% elif ext in ['html','htm'] %}
        <ul>
            <li><strong>Total Tags:</strong> {{ result.tags }}</li>
            <li><strong>Inline Styles:</strong> {{ result.inline_styles }}</li>
            <li><strong>Inline Scripts:</strong> {{ result.inline_scripts }}</li>
        </ul>
    {% endif %}

    <div class="d-flex gap-2 mt-4">
        <a href="{{ url_for('download_report') }}" class="btn btn-primary flex-grow-1">Download PDF Report</a>
        <a href="{{ url_for('index') }}" class="btn btn-secondary flex-grow-1">Analyze Another File</a>
    </div>
</div>
</body>
</html>

